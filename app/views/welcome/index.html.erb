<!DOCTYPE html>
<html>
<%# link to css and bootstrap stylesheet %>
<head>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <link rel="stylesheet"  type ="text/css" href="./app/assets/stylesheets/home.css">
      <title>ValetBike: Small Freedom with Two Wheels</title>
</head>

<body>
  <div class ="header">
    <div class="inner_header">
      <div class="logo_container">
        <a class="navbar_logo" href="index.html"><h1>VALET<span>BIKE</span></h1></a>
      </div>
      <ul class="navigation">
        <a href="#about" role="button"><li>ABOUT</li></a>
        <a href="#Services" role="button"><li>SERVICES</li></a>
        <% if logged_in? %>
          <%= link_to('Profile', current_user, class: 'index-link') %>
          <%= link_to('Log Out', logout_path, class: 'index-link') %>
          
        <% else %>
          <%= link_to('Log in', sign_in_path, class: 'index-link') %>
          <%= link_to('Sign up', sign_up_path, class: 'index-link') %>
        <% end %>
      </ul>
    </div>
  </div>

  <div class="panel_for_welcome_message">
    <div class="welcome_message"> <h1>Ride With the Wind, Share Your Freedom </h1></div>  
  <div>

  <%=link_to "purchase ride", checkout_path, class: 'btn btn-success' %>
  <%# <div class="page-section flexbox vertical stretch">
    <div class="section-inner flexbox vertical stretch">
      <div class="section-title">
        Welcome to our website : <em> ValetBike </em>!
      </div>  
      <div>
        
        <ul class = "navbar">
          <b> <font size="+2"><h2><a href="/"> Home </a> &nbsp;
          <a href="#Services"> Services </a>&nbsp;
          <a href="/about"> About  </a>&nbsp;</h2></font></b>
          <%= link_to('Sign In', sign_in_path ) %>
        <%# </ul>
      </div> %> 

    

      <div>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBmQ9jBUgZiQkW75d5wN72Qurl3bRjD6Eg&callback=initMap"></script>
      
        <script type="text/javascript">

          function getMyLocation(){
              console.log('Entering getMyLocation');
              if(navigator.geolocation){
                  navigator.geolocation.getCurrentPosition(displayCurrentLocation, displayError, {
                      maximumAge: 3000, 
                      timeout: 5000, 
                      enableHighAccuracy: true 
                  });
              }
              console.log('Exiting getMyLocation');
          }
          function displayCurrentLocation(position){
              console.log('Entering getCurrentLocation ' );
              console.log(position.coords);
              var lat = position.coords.latitude;
              var lng = position.coords.longitude;
              var mapOptions = {
                  center: new google.maps.LatLng(lat, lng),
                  zoom: 17
              };
              var map = new google.maps.Map(document.getElementById("map"),
              mapOptions);
              var latLng = new google.maps.LatLng(lat, lng);
              var marker = new google.maps.Marker({
                              position: latLng,
                              map: map,
                              title: 'Current location'
                          });
              marker.setMap(map);
              console.log('Exiting getCurrentLocation');
              
          }
          function displayError(error){
              console.log('Error in getting location');
              console.log(error);
          }
        google.maps.event.addDomListener(window, 'load', getMyLocation);

          function initMap(position){
            let mapOptions = {
              // center: {lat: lat,lng: lng},
              center: {lat: 41.881832,lng:-87.623177},
              zoom: 12
            }

            let map = new google.maps.Map(document.getElementById('map'), mapOptions);

          }

        </script>
        <div id="container">
          <div id = "map">map</div>
        </div>

      </div>

      <div>
        <a id="Services"> <b>Services </b> </a>
        <p>We provide share bike rides!</p>
      </div>



  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </div>

</body>
</html>


