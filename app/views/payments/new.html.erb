<section class="page-section">

  <h1 class="section-title">New Payment</h1>
  <div class="section-inner flexbox horizontal justify-content-center">

    <%= form_with url: payments_path, method: :post, local: true do |f| %>

      <% if params[:membership_type].present? %>

        <div class="form-group">
          <%= f.label :membership_type, class: 'form-label' %>
          <%= f.text_field :membership_type, value: params[:membership_type], disabled: true, class: "form-control disabled-field" %>
          <small id="membershipTypeInfo" class="form-text text-muted">Membership type selected for the payment.</small>
          <%= f.hidden_field :membership_type, value: params[:membership_type] %>
        </div>

      <% else %>

        <div class="form-group">
          <%= f.label :rental_id, class: 'form-label' %>
          <%= f.text_field :rental_id, value: params[:rental_id], disabled: true, class: "form-control disabled-field" %>
          <small id="rentalIDInfo" class="form-text text-muted">Payment for the rental.</small>
          <%= f.hidden_field :rental_id, value: params[:rental_id] %>
        </div>

      <% end %>

      <div class="form-group">
        <%= f.label :amount, class: 'form-label' %>
        <%= f.text_field :amount, value: params[:amount], disabled: true, class: "form-control disabled-field" %>
        <small id="amountInfo" class="form-text text-muted">Total amount to be paid.</small>
        <%= f.hidden_field :amount, value: params[:amount] %>
      </div>

      <div class="form-group">
        <%= f.label :credit_card_info, 'Credit Card Number', class: 'form-label' %>
        <%= f.text_field :credit_card_info, placeholder: "0000000000000000", class: "form-control", pattern: "\\d{4}\\d{4}\\d{4}\\d{4}", title: "Enter a valid credit card number in the format 0000000000000000" %>
      </div>

      <div class="form-group">
        <%= f.submit "Submit", class: "btn button btn-primary" %>
      </div>

    <% end %>
  </div>
</section>
